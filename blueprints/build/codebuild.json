{
	"AWSTemplateFormatVersion": "2010-09-09",

	"Description": "A stack to create a codebuild setup.",

	"Parameters": {
		"BuildTaskProjectName": {
			"Type": "String"
		},
		"SourceRepositoryUrl": {
			"Type": "String"
		},
        "ServiceRoleArn": {
            "Type": "String"
        }
	},
	"Resources": {
		"BuildTask": {
			"Type": "AWS::CodeBuild::Project",
			"Properties": {
				"Name": {
					"Ref": "BuildTaskProjectName"
				},
				"Description": "Build a container.",
				"ServiceRole": {"Ref": "ServiceRoleArn"},
				"Artifacts": {
					"Type": "no_artifacts"
				},
				"Environment": {
					"Type": "LINUX_CONTAINER",
					"ComputeType": "BUILD_GENERAL1_SMALL",
					"Image": "aws/codebuild/docker:1.12.1",
					"EnvironmentVariables": [{
						"Name": "varName",
						"Value": "varValue"
					}]
				},
				"Source": {
					"Location": {
						"Ref": "SourceRepositoryUrl"
					},
					"Type": "CODECOMMIT"
				},
				"TimeoutInMinutes": 5
			}
		}
	},
	"Outputs": {}
}
